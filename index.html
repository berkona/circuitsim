<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">

<title>Circuit Simulator</title>

<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">

<!-- stops breaking html structure in < IE 9. ATM IE is completely untested though -->
<!--[if lt IE 9]>
	<script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
<![endif]-->

<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<style type="text/css">

.page-header {
	margin: 0px;
}

.panel-icon {
	height: 48px;
}

.io-form {
	margin-top: 1em;
}

.unselectable {
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	-khtml-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
}

.cursor-pointer {
	cursor: pointer;
	cursor: hand;
}

.cursor-move {
	cursor: move;
}

#transistor-panel {
	padding-right: 0px;
	padding-left: 0px;
	margin-top: 10px;
}

#stage {
	width: 640px;
	height: 480px;
}

#stage canvas { 
	position: absolute; 
	top: 0px;
	left: 0px;
}
 
#ui-layer {z-index: 4 }
#edge-layer { z-index: 3 }
#node-layer { z-index: 2 }
#background-layer { z-index: 1 }

</style>


<script type="text/javascript" src="libcircuit.js"></script>
<script type="text/javascript" src="circuit-data.js"></script>
<script type="text/javascript" src="circuit-drawer.js"></script>
<script type="text/javascript" src="index.js"></script>

</head>

<body>

<nav class="navbar navbar-default">
	<div class="container-fluid">
		<!-- Brand and toggle get grouped for better mobile display -->
	    <div class="navbar-header">
	      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-actions" aria-expanded="false">
	        <span class="sr-only">Toggle navigation</span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	      </button>
	      <a class="navbar-brand">Circuit Simulator</a>
	    </div>
	    <!-- Collect the nav links, forms, and other content for toggling -->
	    <div class="collapse navbar-collapse unselectable cursor-pointer" id="navbar-actions">
	    	<ul class="nav navbar-nav">
	    		<li><a onclick="show_panel('#clear-panel')">Clear</a></li>
	    		<li><a onclick="undo_action()">Undo</a></li>
	    		<li><a onclick="enable_delete_mode_action()">Delete</a></li>
	    		<li><a onclick="verify_action()">Verify</a></li>
	    		<li><a onclick="simulate_action()">Simulate</a></li>
	    		<li><a onclick="export_action()">Export</a></li>
	    		<li><a onclick="show_panel('#import-panel')">Import</a></li>
	    	</ul>
	    </div><!-- /.navbar-collapse -->
	</div>

</nav>

<div id="delete-panel" class="hidden container alert alert-info alert-dismissible" role="alert">
	<button type="button" class="btn btn-info btn-xs" aria-label="Close" onclick="disable_delete_mode_action()"><span aria-hidden="true">&times;</span></button>
	<strong>Click on node to delete or click button to cancel delete mode.</strong>
</div>

<div id="clear-panel" class="hidden container alert alert-danger alert-dismissible" role="alert">
	<div class="col-md-12">
		<p><strong>Are you sure you want to clear the circuit simulator?  You will lose all unsaved progress.</strong></p>
	</div>
	<div class="col-md-6">
		<button type="button" class="btn btn-danger btn-md" aria-label="Ok" onclick="clear_action()">Ok</button>
	</div>
	<div class="col-md-6">
		<button style="float: right" type="button" class="btn btn-primary btn-md" aria-label="Cancel" onclick="hide_panel('#clear-panel')">Cancel</button>
	</div>
</div>

<div id="success-panel" class="hidden container alert alert-success alert-dismissible" role="alert">
  <button type="button" class="btn btn-success btn-xs" aria-label="Close" onclick="hide_panel('#success-panel')"><span aria-hidden="true">&times;</span></button>
  <strong>Circuit passed all sanity checks!</strong>
</div>

<div id="error-panel" class="hidden container alert alert-warning alert-dismissible" role="alert">
  <button type="button" class="btn btn-warning btn-xs" aria-label="Close" onclick="hide_panel('#error-panel')"><span aria-hidden="true">&times;</span></button>
  <strong>That's not a valid circuit!</strong>  <span id="error-message"></span>
</div>

<div id="export-panel" class="container hidden alert alert-info alert-dismissable">
	<div class="col-md-12">
		<p><strong>Copy text below and save as desired.</strong></p>
	</div>
	<div class="col-md-1">
		<button type="button" class="btn btn-lg btn-info" aria-label="Close" onclick="hide_panel('#export-panel')"><span aria-hidden="true">&times;</span></button>
	</div>
	<div class="col-md-11">
		<textarea style="width:100%; height:100%;"></textarea>
	</div>
</div>

<div id="import-success-panel" class="hidden container alert alert-success alert-dismissible" role="alert">
  <button type="button" class="btn btn-success btn-xs" aria-label="Close" onclick="hide_panel('#import-success-panel')"><span aria-hidden="true">&times;</span></button>
  <strong>Circuit was successfully imported!</strong>
</div>

<div id="import-error-panel" class="hidden container alert alert-warning alert-dismissible" role="alert">
  <button type="button" class="btn btn-warning btn-xs" aria-label="Close" onclick="hide_panel('#import-error-panel')"><span aria-hidden="true">&times;</span></button>
  <strong>Circuit could not be imported!</strong>  <span class="error-message"></span>
</div>

<div id="import-panel" class="container hidden alert alert-info alert-dismissable">
	<div class="col-md-12">
		<p><strong>Enter text from export below then click button.</strong></p>
	</div>
	<div class="col-md-1">
		<button type="button" class="btn btn-lg btn-info" aria-label="Import" onclick="import_action()"><span aria-hidden="true">Import</span></button>
	</div>
	<div class="col-md-11">
		<textarea style="width:100%; height:100%;"></textarea>
	</div>
</div>

<div id="simulate-panel" class="container hidden alert alert-dismissable">
	<div class="col-md-1">
		<button type="button" class="btn btn-lg btn-info" aria-label="Close" onclick="hide_panel('#simulate-panel')"><span aria-hidden="true">&times;</span></button>
	</div>
	<div class="col-md-11">
		<table class="table table-bordered table-hover">
			<thead>
				<tr>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
	</div>
</div>


<div class="container">

<div class="col-md-3">
	<div class="panel panel-default unselectable">
		<div class="panel-body">
			<div class="row">
				<ul id="transitor-panel-tabs" class="nav nav-tabs cursor-pointer">
					<li id="transitor-panel-t-tab" role="presentation" class="active"><a onclick="show_transistor_panel()">Transistors</a></li>
				<!-- <li role="presentation"><a href="#">Gates</a></li> -->
				</ul>
			</div>
			<div id="transistor-panel" class="row cursor-move"></div>
		</div>
	</div>
	<div class="panel panel-default">
		<div class="panel-body">
			<div class="row">
				<ul id="io-panel-tabs" class="nav nav-tabs unselectable cursor-pointer">
					<li id="io-panel-i-tab" role="presentation" class="active"><a onclick="show_input_panel()">Inputs</a></li>
					<li id="io-panel-o-tab" role="presentation"><a onclick="show_output_panel()">Outputs</a></li>
				</ul>
			</div>
			<div id="io-panel" class="row"></div>
		</div>
	</div>
</div>

<div id="stage" class="col-md-9 unselectable">
	<canvas id="background-layer" width="640" height="480"></canvas>
	<canvas id="node-layer" width="640" height="480"></canvas>
	<canvas id="edge-layer" width="640" height="480"></canvas>
	<canvas id="ui-layer" width="640" height="480"></canvas>
</div>

</div>

<div id="io-template" class="io-form col-md-12 hidden"><span class="io-label"></span> <!-- <span class="glyphicon glyphicon-remove"></span> --></div>

<form id="io-add-template" class="io-form col-md-12 form-inline hidden">
	<div class="form-group col-md-9">
		<label class="sr-only" for="addIOPin">Add IO Pin</label>
		<div class="input-group">
			<input type="text" maxlength="2" class="form-control" id="addIOPin" placeholder="Name" />
		</div>
	</div>
	<div class="col-md-3">
		<button style="margin-left: 1em" type="button" class="btn btn-primary io-submit-btn">&plus;</button>
	</div>
</form>

</body>

</html>